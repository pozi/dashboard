<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pozi Dashboard</title>

    <!-- Bootstrap -->
    <link href="../bootstrap-3.1.1/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Generic page styles -->
    <link rel="stylesheet" href="../morris.js-0.4.3/morris.css">
    <link rel="stylesheet" href="../css/main.css"></link>
    <link id="favicon" rel="shortcut icon" href="../favicon.png" />

  </head>
  <body>
    <!-- Bootstrap navbar
    <nav class="navbar navbar-default" role="navigation">
      <div class="container-fluid" style="background-color:#70925C;">
        <div class="navbar-header" id="logo" style="position: relative;top: 5px;left: 5px;padding:5px;">
          <a class="navbar-brand" href="#" style="padding:0px;">
            <img src="../img/pozi-logo.png" style="height:40px;">
          </a>
          <div class="myHeader">Pozi Connect</div>
      </div>
      </div>
    </nav>


    <div>
      <h1>
        <div style="text-align:center;">
          <div>Property Health Check </div>
          <div id="id_site"></div>
        </div>
      </h1>
    </div>
    <br>
    -->

    <div id="step1">
      <!-- A FileDrop area. Can contain any text or elements, or be empty.
           Can be of any HTML tag too, not necessary fieldset. -->
      <fieldset id="zone">
      </fieldset>
    </div>

    <div id="step2" class="hidden">
      <div id="pdf_download" data-html2canvas-ignore>
        <a id="pdf_link" href="#" onclick="generatePdf(); return false;">
          <img src="../img/pdf-icon.png" style="height:50px;">
        </a>
      </div>

      <!-- h2>Explore your statistics visually</h2 -->
      <div class="container" style="padding-top:20px;font-size:12px;">
        <h3>Status</h3>
        <div class="row text-center">
          <div class="col-xs-3">
            <div class="well">
              <p> Last executed on<br>
                 <span id="date_current" style="font-size:24px;">n/a</span><br>
              </p>
            </div>
          </div>
          <div class="col-xs-3">
            <div class="well">
              <p> Match rate<span class="glyphicon glyphicon-question-sign pull-right"></span><br>
                 <span id="metric_current" style="font-size:48px;color:green">n/a</span><br>
                 %
              </p>
            </div>
          </div>
        </div>
        <div class="row text-center">
          <div class="col-xs-3">
            <div class="well">
              <p> Council properties not in Vicmap<span class="glyphicon glyphicon-question-sign pull-right"></span><br>
                 <span id="metric1_current" style="font-size:24px;color:red">n/a</span><br>
              </p>
            </div>
          </div>
          <div class="col-xs-3">
            <div class="well">
              <p> Vicmap parcels without propnum<span class="glyphicon glyphicon-question-sign pull-right"></span><br>
                 <span id="metric2_current" style="font-size:24px;color:red">n/a</span><br>
              </p>
            </div>
          </div>
          <div class="col-xs-3">
            <div class="well">
              <p> Vicmap propnum not in Council<span class="glyphicon glyphicon-question-sign pull-right"></span><br>
                 <span id="metric3_current" style="font-size:24px;color:red">n/a</span><br>
              </p>
            </div>
          </div>
        </div>

        <h3>Progress</h3>
        <div class="row text-center">
          <div class="col-xs-6">
            <div class="well" style="padding:10px;margin:5px;">
              <p style="font-size:18px;text-align:center;">Property match rate</p>
              <div id="chart1" style="height: 250px;padding:0;margin:0"></div>
            </div>
          </div>
          <div class="col-xs-6">
            <div class="well" style="padding:10px;margin:5px;">
              <p style="font-size:18px;text-align:center;">Address match rate</p>
              <div id="chart2" style="height: 250px;padding:0;margin:0"></div>
            </div>
          </div>
        </div>

        <h3>Latest Metrics</h3>
        <div>
          <table id="table_metrics" class="table table-striped" style="width:400px;">
            <theader><td style="font-weight:bold;">Metric</td><td style="font-weight:bold;">Value</td></theader>
          </table>
        </div>
      </div>
    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="../jquery-1.11.1.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../bootstrap-3.1.1/js/bootstrap.min.js"></script>

    <!-- Vix library -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
    <script src="../morris.js-0.4.3/morris.min.js"></script>

    <!-- Filedrop library to manage drag and drop -->
    <script type="text/javascript" src="../FileDrop/filedrop.js"></script>

    <!-- The main program -->
    <script type="text/javascript" src="index.js"></script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-27881682-6', 'auto');
      ga('send', 'pageview');
    </script>

    <!-- html2pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.3/html2pdf.bundle.min.js" integrity="sha512-YcsIPGdhPK4P/uRW6/sruonlYj+Q7UHWeKfTAkBW+g83NKM+jMJFJ4iAPfSnVp7BKD4dKMHmVSvICUbE/V1sSw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
    var generatePdf = function () {
      var options = {
        margin:       [ 10, 5 ], // [ vMargin, hMargin ]
        filename:     'property-health-check.pdf',
        html2canvas:  { width: 1024, windowWidth: 1024 },
        image:        { type: 'jpeg', quality: 1 },
        jsPDF:        { format: 'a4', orientation: 'portrait' }
      };

      html2pdf()
        .set(options)
        .from(document.body)
        .save()
    }
    </script>
  </body>
</html>
